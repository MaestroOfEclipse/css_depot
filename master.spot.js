/* jssdk-master.spot.v2.js 2024-06-12 11:24 528eda76d750c0654bc56a3a2fbd3f186bb56e8e */
!function(){"use strict";var k=void 0;function L(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,a,r=n.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(o=r.next()).done;)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function I(e,t,n){if(n||2===arguments.length)for(var o,a=0,r=t.length;a<r;a++)!o&&a in t||((o=o||Array.prototype.slice.call(t,0,a))[a]=t[a]);return e.concat(o||Array.prototype.slice.call(t))}function T(e,t,n,o){var a=void 0===(a=(o=void 0===o?{}:o).method)?"GET":a,r=void 0===(r=o.body)?"":r,i=void 0===(i=o.headers)?[]:i,o=void 0!==(o=o.withCredentials)&&o,c=new XMLHttpRequest;c.withCredentials=o,c.onload=function(){if(200===c.status){var e=void 0;try{e=JSON.parse(c.response)}catch(e){}t(e)}else n()},c.onerror=n,c.open(a,e,!0),i.forEach(function(e){var t=(e=L(e,2))[0],e=e[1];c.setRequestHeader(t,e)}),c.send(r)}var b=(t={BACKUP_SCRIPT_URL: "//cdn.tsyndicate.com/sdk/v1/backup.v2.js", BASE_ROTATOR_URL: "//tsyndicate.com/do2/", CANVAS_PLAYER_SCRIPT_URL: "//cdn.tsyndicate.com/sdk/v1/adstreamcanvas.player.v2.js", HLS_PLAYER_SCRIPT_URL: "//cdn.tsyndicate.com/sdk/v1/hls.light.min.js", STYLE_URL: "//cdn.tsyndicate.com/sdk/v1/n.v2.css", METRICS_COLLECTOR_URL:"//m.tsyndicate.com/ad_stat"}).BASE_ROTATOR_URL,_=t.METRICS_COLLECTOR_URL,g=t.STYLE_URL,l=t.BACKUP_SCRIPT_URL,z=t.HLS_PLAYER_SCRIPT_URL,K=t.CANVAS_PLAYER_SCRIPT_URL;function y(t,n){var o={};return Object.keys(t||{}).forEach(function(e){o[e]=t[e]}),Object.keys(n||{}).forEach(function(e){Array.isArray(n[e])||"object"!=typeof n[e]?n[e]!==k&&(o[e]=n[e]):o[e]=y(o[e],n[e])}),o}var w=["param1","param2","param3","subid","subid_1","subid_2","subid_3","subid_4","subid_5","subid_6","extid","xhid","abt","xoc","xvr","xsrc","xprf","xch","xou","xma","xtype","cookie","xu"];function A(e,t){for(var n={},o=Object.keys(e),a=Object.keys(t),r=0;r<o.length;r++)n[o[r]]=e[o[r]];for(var i=0;i<a.length;i++)n[a[i]]=t[a[i]];return n}function E(e){return"object"==typeof e&&!Array.isArray(e)}function S(e){return E(e)}function R(e){return S(e)?e:k}function C(e){return"function"!=typeof e?k:e}function x(e,t){var n,o=void 0===(o=(t=void 0===t?{}:t).type)?"text/css":o,a=void 0===(a=t.rel)?"stylesheet":a,r=t.onLoad,t=t.onError,i=document.head;i.querySelector('[href="'.concat(e,'"]'))?r&&r():((n=document.createElement("link")).type=o,n.rel=a,n.href=e,r&&n.addEventListener("load",r),t&&n.addEventListener("error",t),i.appendChild(n))}function N(e){return document.createElement(e)}function B(e){return document.getElementById(e)}var D={self:"",outer:"mn-outer",thumb:"mn-thumb",thumbImg:"mn-thumb__img",label:"mn-thumb__label",container:"mn-related-container",innerContainer:"mn-container",headlineLink:"mn-thumb__label-title-link",brandnameLabel:"mn-thumb__label-brand",brandnameLink:"mn-thumb__label-brand-link",image:"mn-thumb__aspect",closeButton:"mn-position-fixed__close-button",tracking:"mn-thumb__tracker_",holder:"mn-thumb__holder",streamCanvas:"mn-thumb-stream-canvas",streamHls:"mn-thumb__hls-wrapper"},O=3,J=1,X=!0,u={thumb:{width:"".concat(200,"px"),"margin-left":"".concat(10,"px"),"margin-right":"0px"}};function d(n,o,e){var t="#".concat(n),a="} ",r="";return Object.entries(e).forEach(function(e){var t=(e=L(e,2))[0];S(e=e[1])?a+=d(n,"".concat(o).concat(t),e):r+="".concat(t,": ").concat(e,"; ")}),"".concat(t+t," ").concat(o," { ").concat(r).concat(a)}function Z(a,e){void 0===e&&(e=[]);var n,t,o=a.elementId,r=a.scrollable,i=a.styles,c=a.breakpoints,s=A({},i||{});return r&&(s.thumb=A(u.thumb||{},(i||{}).thumb||{})),x(g),(r=I([r?(r="".concat(-1*(i=s.thumb,parseInt(String(i&&i["margin-left"]),10)),"px "),i=D.outer,r={"margin-left":r},t=d(o,".".concat(D.innerContainer),{"overflow-y":"scroll"}),i=d(o,".".concat(i),r),"".concat(t).concat(i)):"",c!==k&&I([],L(c),!1).sort(function(e,t){return t.width-e.width}).map(function(e){var t=D.thumb,n=D.container,o="".concat(e.width,"px"),n="#".concat(a.elementId," .").concat(n," .").concat(t," { width: ").concat(100/e.cols-1,"% }");return"@media screen and (max-width: ".concat(o,") {").concat(n,"}")}).join(" ")||"",(n="",Object.keys(s).forEach(function(e){var t=s[e];D[e]&&S(t)&&(n+=d(o,".".concat(D[e]),t))}),n)],L(e),!1).join(""))&&((t=N("style")).appendChild(document.createTextNode(r)),document.body.appendChild(t)),s}function Q(e){void 0===e&&(e=5);for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function ee(e){var t=e.keywords,n=e.charLimitCount,e=e.queryParamKey;return(t=o(t).substring(0,n))?"".concat(e||"keywords","=").concat(encodeURIComponent(t)):void 0}function o(e){return e.map(function(e){return null==e?void 0:e.trim()}).filter(Boolean).join(",").replace(/,+/g,",").replace(/\s*,\s*/g,",").replace(/\s+/g," ").replace(/^,|,$/g,"")}function te(){var e,t=void 0===(t=window.devicePixelRatio)?1:t,n=window.screen;return n&&n.width&&n.height?(e=n.width*t,n=n.height*t,"w=".concat(e,"&h=").concat(n)):k}function ne(n,e){var o=void 0===(e=(void 0===e?{}:e).fallbackValues)?{}:e;return w.map(function(e){var t;return[e,null!=(t=n[e])?t:o[e]]}).map(function(e){var t=(e=L(e,2))[0];return(e=e[1])?"".concat(t,"=").concat(e):""}).filter(Boolean).join("&")}function oe(){var e=(new Date).getTimezoneOffset();return"tz=".concat(e).replace("-","%2D")}function ae(e){var e=void 0===(e=(e||{}).collectFromPath)||e,t=function(){for(var e=document.getElementsByTagName("meta"),t=[],n=0;n<e.length;n++){var o=e[n].getAttribute("name");"description"!==o&&"keywords"!==o||(o=e[n].getAttribute("content"))&&t.push(o)}return t}();return document.title&&t.push(document.title),e&&t.push.apply(t,I([],L((e=(e=window.location.pathname.split("/"))[e.length-1].split(/[?#]/)[0])&&e.replace(/(x?html?)$/gi,"").match(/([a-zA-Z0-9]+)/g)||[]),!1)),o(t)}function a(e){try{return window.localStorage.getItem(e)}catch(e){return null}}var r="prev_banners";function re(){var e=a(r);if(e){try{window.localStorage.removeItem("prev_banners")}catch(e){}return"prev_banners=".concat(e)}return k}function ie(e,t){var n,o,a,r=t.onSuccess,i=(t={isBackup:!0,thumbCountDiff:t.thumbCountDiff,useDsa:t.useDsa}).isBackup,c=void 0===(c=t.thumbCountDiff)?0:c,t=void 0!==(t=t.useDsa)&&t,c=[(i=void 0!==i&&i)?"spot=".concat(e.spot):k,i&&t?"use_dsa=true":k,ne(e),(t=c||e.rows*e.cols,"count=".concat(!t||t<=0?O:t)),re(),te(),ee({keywords:[e.keywords,ae()],charLimitCount:3e3}),function(e){var t="",n=e.fixed;if(n=n&&n.position)switch(n){case"center":t="toast";break;case"left":t="im-left";break;case"right":t="im-right"}return"adtype=".concat(t||e.type)}(e),oe()].filter(Boolean).join("&"),t=(i?"".concat(l,"?"):"".concat(b).concat(e.spot,"/dynamic?format=jsonp&")).concat(c),i=r,e=N("script"),c="callback_".concat(Q());e.className="mn-cdn-backup-script",n=i,o=c,a=e,window[o]=function(e){n(e),null!=(e=a.parentNode)&&e.removeChild(a),window[o]=k},e.src="".concat(t,"&callback=").concat(c),document.body.appendChild(e)}var P="m3u8",ce="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype;function s(e){return e.adsByUrl||(t=(e={utmContent:e.type,utmTerm:"native"}).utmContent,n=e.utmTerm,o=void 0===(o=e.utmCampaign)?"AdsBy":o,a=void 0===(a=e.campaignType)?"shows":a,r=void 0===(r=e.deviceType)?"all":r,i=void 0===(i=e.utmSource)?window.location.host:i,c=void 0===(c=e.p1)?"AdsBy":c,s=void 0===(s=e.p2)?window.location.host:s,d=void 0===(d=e.segment)?"new":d,e=void 0===(e=e.cluster)?"mixed":e,"https://trafficstars.com?".concat(["utm_source=".concat(i),"utm_campaign=".concat(o),"utm_content=".concat(t),"utm_term=".concat(n),"p1=".concat(c),"p2=".concat(s),"campaign_type=".concat(a),"device_type=".concat(r),"segment=".concat(d),"cluster=".concat(e)].join("&")));var t,n,o,a,r,i,c,s,d}function se(e,t){var n,o=t.adsByPosition;return-1!==e.indexOf(o)?(n=t.showLogoInfo?(e=o,n=s(o=t),o=o.noBlank?"_top":"_blank",'<a rel="nofollow noopener" tabindex="-1" '+'class="mn-container-adsby-info" href="'.concat(n,'" target="').concat(o,'">')+'<span class="mn-container-adsby-info__icon"></span>'+'<span class="mn-container-adsby-info__msg mn-container-adsby-info__msg_'.concat(e,'">').concat("Ads by TrafficStars","</span>")+"</a>"):(o=s(n=t),e=n.noBlank?"_top":"_blank",'<a rel="nofollow noopener" tabindex="-1" '+'class="mn-container-adsby__link" href="'.concat(o,'" target="').concat(e,'">')+'Ads by <span class="mn-container-adsby__a">TrafficStars</span></a>'),'<div class="mn-container-adsby mn-container-adsby_position_'.concat(t.adsByPosition,'">').concat(n,"</div>")):""}var U="data-id",c=!(!(t=document.createElement("canvas")).getContext||!t.getContext("2d"))&&0===t.toDataURL("image/webp").indexOf("data:image/webp");function f(e,i){function t(e){return e.filter(function(e){return"image"===e.type}).forEach(function(e){var t,n,o,a=r&&r.w!==k&&e.w!==k&&r.w>e.w;(!r||a||(a=e.w,t=r,o=.9*((o=B(i.elementId))?(o=o.offsetWidth,n=window.innerWidth<760?1:i.cols,parseInt(String(o/n),10)):0),a!==k&&o<=a&&!t.w))&&(r=e)}),r&&r.src||function(e){for(var t=0;t<e.length;t++){var n=e[t],o=n.src;if(o&&!n.w)return o}return k}(e)||function(e){for(var t=0;t<e.length;t++){var n=e[t].src;if(n)return n}return k}(e);var r}return e.thumbs&&(n=e.thumbs,(c?t(n.filter(function(e){return e=e.src,Boolean(e&&-1!==e.indexOf(".webp"))})):k)||t(e.thumbs));var n}function H(e){return"".concat(D.tracking).concat(e.id)}function de(o,a,e){var t,r=void 0===(e=(void 0===e?{}:e).genderIconHtml)?"":e,n="";switch(o.advname&&(n+=(e=o.advname,e="This slot is a paid ad by ".concat(e,". You are seeing this ad because of several factors, including advertiser bid and relevance to your search criteria."),t=s(a),'<div class="dsa-info"><div class="dsa-icon__wrapper"><div class="dsa-icon"><div class="dsa-icon__text">AD</div></div></div><div class="dsa-info__wrapper"><div class="dsa-info__content">'+'<div class="dsa-info__text">'.concat(e,"<br /><br />")+'<div class="dsa-info__link">Ads by <a  href="'.concat(t,'" target="_blank">TrafficStars</a></div></div></div>')+'<div class="dsa-info__close"></div></div></div>')),a.type){case"image":n+=i();break;case"img-left":case"img-right":case"label-over":case"label-under":n+="".concat(i()).concat(c());break;case"text":n+=c()}function i(){var e=o.link,t=f(o,a)?"":"mn-thumb__img_no-img",n=a.noBlank?"_top":"_blank";return'<a rel="nofollow noopener" tabindex="-1" target="'.concat(n,'" href="').concat(e,'">')+'<div class="mn-thumb__holder">'+"<span ".concat(U,'="').concat(o.id,'" class="mn-thumb__img ').concat(t,'"></span>')+"".concat(r)+'<div class="'.concat(D.image,'"></div>')+"</div></a>"}function c(){var e=o.link,t=o.id,n=a.noBlank?"_top":"_blank";return'<span class="'.concat(D.label,'">')+'<span class="mn-thumb__label-title">'+'<a rel="nofollow noopener" tabindex="-1" '.concat(U,'="').concat(t,'" class="').concat(D.headlineLink,'" target="').concat(n,'" href="').concat(e,'">')+"".concat(o.headline||"Undefined")+'</a></span><span class="mn-thumb__label-brand">'+'<a rel="nofollow noopener" tabindex="-1" '.concat(U,'="').concat(t,'" class="').concat(D.brandnameLink,'" target="').concat(n,'" href="').concat(e,'">')+"".concat(o.brandname||"","</a>")+"</span></span>"}return n+(e=H(o),'<div id="'.concat(e,'" class="mn-thumb__tracker"></div>'))}var e=(t={}).cookieName,t=void 0===(t=t.chanceLimit)?2e3:t,e=Number((n=void 0===e?"ts_slaEventsRandomChanceCount":e)&&document.cookie.length&&(n=document.cookie.match(new RegExp("(?:^|; )"+n.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))&&n.length&&n[1]?decodeURIComponent(n[1]):k),p=!!(t=Number.isNaN(e)?t:e)&&0===Math.floor(Math.random()*t);function le(e,t){return t.reduce(function(e,t){return e.replace(new RegExp("\\{"+t.name+"\\}","gm"),t.value)},e)}var n,ue=["male","female","couple","group","gays","lesbians","females","femaleTranny","maleFemale","males","maleTranny","tranny","trannies"];function M(e){return"".concat(D.thumb,"_").concat(e.id)}function $(e){var t=e.spot,n=e.format,o=e.serviceBaseUrl,a=e.details,e=e.eventType,n=["ad_format=".concat(encodeURIComponent(n)),"spot=".concat(encodeURIComponent(t)),"event_type=".concat(encodeURIComponent(e))].join("&"),t=o.startsWith("//")?"https:".concat(o):o;T("".concat(t,"?").concat(n),function(){},function(){return k},{method:"POST",headers:[["Content-Type","application/json"]],body:a?JSON.stringify(a):k})}function me(e,t,n,o){$({spot:e,eventType:n,format:"native-dynamic",serviceBaseUrl:_,details:{url:t,reason:o||null}})}function fe(e){var t=e.isLoading,n=e.isLoaded,o=e.onBeforeLoad,a=e.onSuccess,r=e.scriptUrl,i=e.eventName;t||n?n?a():document.addEventListener(i,a):(o(),e=r,t=function(){a(),document.dispatchEvent(new CustomEvent(i))},(n=N("script")).src=e,n.addEventListener("load",t),document.body.appendChild(n))}(n={})[MediaError.MEDIA_ERR_ABORTED]="error_MEDIA_ERR_ABORTED",n[MediaError.MEDIA_ERR_NETWORK]="error_MEDIA_ERR_NETWORK",n[MediaError.MEDIA_ERR_DECODE]="error_MEDIA_ERR_DECODE",n[MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED]="error_MEDIA_ERR_SRC_NOT_SUPPORTED";var pe=n;function ve(e){return document.querySelector("#".concat(e," .mn-container"))}function he(){try{return window.self!==window.top}catch(e){return 1}}function be(){return p?Date.now():k}function v(e){return new URL(/^http(s)?:/.test(e)?e:"https://".concat(e)).hostname}function h(e){return"navigation"===e.entryType}var _e={};function ge(c,s,d){var e,t,l,u=f(c,s),m=document.querySelector("[".concat(U,'="').concat(c.id,'"]'));m&&u?(t=document.createElement("img"),l=be(),t.addEventListener("load",function(){var e,t,n,o,a,r=c.cw,i=c.ch;m.style.backgroundImage="url(".concat(u,")"),r!==k&&i!==k&&(m.style.backgroundPosition="".concat(r,"% ").concat(i,"%")),i=(r={settings:s,startTime:l,imageUrl:u,thumbIndex:d}).settings,t=r.imageUrl,(e=r.startTime)===k||e<0||(o=i.cols*i.rows,r=r.thumbIndex+1,e=Date.now()-e,n="rtb"===i.spotType?"native-rtb":"native-direct",t=v(t),$({format:n,spot:i.spot,serviceBaseUrl:_,eventType:"CREATIVE_LOADED",details:{total_thumb_count:o,thumb_count:r,loading_time:e,cdn_domain:t}})),_e[s.spot]||(n=s,p&&(i=void 0===(i=(a=void 0===a?{}:a).performance)?window.performance:i,a=a.currentTimeInMillis,o=i&&"function"==typeof i.getEntries&&(a=a===k?i.now():a,i=i.getEntries().find(h))?a-i.domContentLoadedEventEnd:k,$({spot:n.spot,format:"direct"===n.spotType?"native-direct":"native-rtb",serviceBaseUrl:_,eventType:"FIRST_CREATIVE_APPEARED",details:{loading_time:o}})),_e[s.spot]=!0)}),t.addEventListener("error",function(){var e=(t={settings:s,imageUrl:u}).settings,t=t.imageUrl,n="rtb"===e.spotType?"native-rtb":"native-direct",o=v(t);$({format:n,spot:e.spot,serviceBaseUrl:_,eventType:"error_IMG_LOADING",details:{cdn_domain:o,url:t}})}),t.src=u):u||$({format:"rtb"===(e=(t={settings:s,bannerId:c.banner_id}).settings).spotType?"native-rtb":"native-direct",spot:e.spot,serviceBaseUrl:_,eventType:"error_NO_IMG",details:{banner_id:t.bannerId}})}function j(e){return e.filter(function(e){return!e.isTracked})}function ye(n,e){var o,t,a;e&&(a=n,t=".".concat(D.thumbImg),a=(a=a.parentNode)&&a.querySelector(t),o=a?"&ir=".concat(a.offsetWidth,"x").concat(a.offsetHeight):"",e.forEach(function(e){var e=e+o,t=N("img");t.setAttribute("src",e),t.setAttribute("height","1px"),t.setAttribute("width","1px"),n.appendChild(t)}))}function we(e,t){if(t.isTracked=!0,t.urls&&(ye(e,t.urls),e=t.bannerId)){t=I(I([],L((t=a(r))?t.split(","):[]),!1),[e],!1).join(",");try{window.localStorage.setItem("prev_banners",t)}catch(e){}}}function Ee(r,e){j(e).forEach(function(e){var t,n,o,a=B(e.domId);a&&(he()||(n=r,o=(t=a).getBoundingClientRect().top<=window.innerHeight,n.scrollable?o&&(n=B(n.elementId))&&(t=t.getBoundingClientRect(),n=n.getBoundingClientRect(),t.top<=n.bottom)&&t.left<=n.right&&t.right>=n.left&&t.bottom>=n.top:o))&&we(a,e)})}function Se(e,t,n,o){if(_=B(t.elementId)){var a,r,e=e.map(function(e){return A(e,{id:Q()})}),i=(a=t.rows,c=t.scrollable,d=(i=e).length,d=Array.from({length:d},function(e,t){return t}),r=I([],L(i),!1).sort(function(e,t){return(t.rate||0)-(e.rate||0)}),c?(d.sort(function(e,t){return e%a-t%a||e-t}),d.map(function(e){return r[e]})):r),c=e.map(function(e){var t=e.imgtrackers;return{domId:H(e),bannerId:e.banner_id,isTracked:!1,urls:t&&t.length?t:k}}),s=t,d=n,l=_,u=i,m=c,e=o,f={},t=D.innerContainer,p=D.thumb,v=s.elementId,h=s.scrollable,b=s.type,n=s.cols,_=s.titlePosition,i=s.title,g="text"!==s.type,y={};if(l.addEventListener("click",function(e){var t,n=null==(n=null==(n=(e=e.target).parentElement)?void 0:n.closest(".dsa-info"))?void 0:n.querySelector(".dsa-info__wrapper"),o=null==(o=null==(o=null==n?void 0:n.parentElement)?void 0:o.closest("div[id]"))?void 0:o.id;e.className.includes("dsa-info")&&n?R(n,o):e.className.includes("dsa-icon")&&n?S(n,o):(t=(n=e).getAttribute(U)||(o=n.querySelector("[".concat(U,"]")))&&o.getAttribute(U)||k)&&(e=u.find(function(e){return e.id===t}))&&(n=e.clicktrackers)&&(o=B(H(e)))&&ye(o,n)}),l.innerHTML=(e="".concat((c=s.mobileEnabled?"":" mn-related-container_no-responsive",'<div class="'.concat(D.container).concat(c,'">')+(e?e():"")+(i&&"none"!==_?'<div class="mn-container-title mn-container-title_position_'.concat(_,' ">').concat(i,"</div>"):"")+se(["left","right"],s)),'<div class="').concat(t,'">')+'<div class="'.concat(D.outer," mn-thumbnails_col-").concat(n," mn-thumbnails_").concat(b,'"').concat(h?(o=d&&d.thumb?parseInt(String(d.thumb.width||""),10):NaN,c=d&&d.thumb?parseInt(String(d.thumb["margin-left"]||""),10):NaN,' style="width:'.concat(n*o+n*c,'px"')):"",">"),_=u.reduce(function(e,t){return"".concat(e).concat((t=(e=t).assetsurl!==k,n=(t=g&&t)?"".concat(p,"_deferred-loading"):"",o=t?(t=b,o='<span class="'.concat(D.label,' mn-thumb__label_deferred">')+"</span>",t="image"===t?"":o,'<div class="mn-thumb__holder">'.concat('<div class="mn-thumb-spinner"><div class="mn-thumb-spinner__disc mn-thumb-spinner__disc-1"></div><div class="mn-thumb-spinner__disc mn-thumb-spinner__disc-2"></div><div class="mn-thumb-spinner__disc mn-thumb-spinner__disc-3"></div></div>','<div class="mn-thumb__aspect">')+"</div>"+"</div>".concat(t)):de(e,s),'<div id="'.concat(M(e),'" class="').concat(p," ").concat(n,'">')+"".concat(o)+"</div>"));var n,o},""),i='<div class="mn-clear"></div></div></div>'+'<div class="mn-clear"></div>'.concat(se(["bottom-left","bottom-right"],s),"</div>"),"".concat(e).concat(_).concat(i)),g&&u.forEach(function(e,a){e.assetsurl!==k?function t(o,a,r){function v(){ie(a,{onSuccess:function(e){(e=A(o,e.list[0])).assetsurl!==k?t(e,a,r):h(e)},thumbCountDiff:1})}function h(e,t){var t=void 0===(t=(void 0===t?{}:t).genderIconHtml)?"":t,n=B(M(e));n&&(n.innerHTML=de(e,a,{genderIconHtml:t}))}o.assetsurl&&T(o.assetsurl,function(e){var t,n,i,c,s,d,l,u,m,f,p;(null==e?void 0:e.assets)!==k&&(n=o,e=e.assets,u=l=d="",m=!1,f=[],p=[],e.forEach(function(e){var t,n;if(e.title!==k)i=e.title.text||"";else if(e.link!==k)l=e.link.url||"";else{if(e.data!==k){var o,a=e.data,r=a.value;switch(a.type){case 500:p.push({name:"country",value:r});break;case 1e3:d="true"===r?"online":"offline",p.push({name:"is_online",value:d});break;case 1001:p.push({name:"gender",value:r}),c=-1!==ue.indexOf(t=r)?t:k;break;case 1002:p.push({name:"username",value:r});break;default:(o=a.ext)&&o.name&&p.push({name:o.name,value:r})}}e.img!==k&&(e=(n=e.img).url,3===n.type)&&((o=n.ext)&&o.stream&&(m=!0,u=e,s=o.stream_format),f.push({type:"image",src:e,w:function(){var e={small:250,big:500,snapshot:1e3},t=n.ext;if(t){if(t.size)return e[t.size];if("snapshot"===t.name)return e.snapshot}return k}()}))}}),n=(e=A(n,{headline:n.headline?le(n.headline,p):i,brandname:n.brandname?le(n.brandname,p):"",onlineLabel:d,link:l,streamUrl:u,thumbs:f,gender:c,streamFormat:s,isStream:m})).gender,t=e.advname,h(e,{genderIconHtml:n?'<div class="gender-icon__wrapper" style="right: '.concat(t?"36px":"6px",'">')+'<div class="gender-icon gender-icon__'.concat(n,'">')+"</div></div>":""}),e.streamUrl?r(e):e.isStream&&me(a.spot,e.assetsurl||"","error_NO_STREAM_URL_PROVIDED"),t=e.thumbs)&&t.some(function(e){return Boolean(e.src)})||v()},v)}(e,s,function(e){var o,t,n;ge(o=e,s,a),e=o.streamFormat===P,o.isStream&&(!e||(e=document.createElement("video"),Boolean(e.canPlayType("application/vnd.apple.mpegURL")))||(e=window.MediaSource||window.WebKitMediaSource)&&(n=window.SourceBuffer||window.WebKitSourceBuffer,e=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!n||n.prototype&&"function"==typeof n.prototype.appendBuffer&&"function"==typeof n.prototype.remove,Boolean(e))&&Boolean(n))&&(t=o,e=function(){function e(){function f(){return null!==B(M(p))}var e,p,v,h,t,n=s;(t=B(M(e=o)))&&(v=t,h=n,(p=e).streamFormat===P?requestAnimationFrame(function(){var t,e,n,o,a,r,i,c,s,d,l=D.thumbImg,l=((d=N("div")).className=D.streamHls,v.querySelector(".".concat(l))),u=d,m=l;f()&&(d=D.holder,l=p.id,(s=N("video")).controls=!1,s.autoplay=!1,s.muted=!0,s.playsInline=!0,s.setAttribute("webkitplaysinline","webkitplaysinline"),s.setAttribute(U,l),s.className=D.streamCanvas,t=s,e=v.querySelector(".".concat(d)),TS_HLS)&&e&&(n=new TS_HLS({maxMaxBufferLength:100}),o=!1,a=0,r=function(e,t){return me(h.spot,p.streamUrl,e,t)},setTimeout(function(){f()?o||t.currentTime||t.paused||(r("error_MEDIA_ERR_TIMEOUT","unknown_reason"),o=!0,n.destroy()):n.destroy()},1e4),u.appendChild(t),e.appendChild(u),i=function(){u.style.backdropFilter="blur(0px)",u.style["-webkit-backdrop-filter"]="blur(0px)",e.style.backgroundColor="unset",t.style.display="none",m&&(m.style.opacity="1")},c=function(){0<t.currentTime&&(u.style.backdropFilter="blur(5px)",u.style["-webkit-backdrop-filter"]="blur(5px)",e.style.backgroundColor="#000",m&&(m.style.opacity=".6"),t.removeEventListener("timeupdate",c))},t.addEventListener("timeupdate",c),TS_HLS.isSupported()?(n.on(TS_HLS.Events.MANIFEST_PARSED,function(){t.play()}),n.on(TS_HLS.Events.ERROR,function(e,t){f()?t.fatal&&(t.type===TS_HLS.ErrorTypes.MEDIA_ERROR?(1<++a&&n.swapAudioCodec(),n.recoverMediaError()):o||(o=!0,i(),r("error_".concat(t.type),t.details),n.off(TS_HLS.Events.ERROR),n.destroy())):n.destroy()}),n.loadSource(p.streamUrl),n.attachMedia(t)):(t.addEventListener("loadedmetadata",function(){t.play()}),t.addEventListener("error",function(){var e;!o&&f()&&(e=null!=(e=t.error)&&e.code?pe[t.error.code]:"error_MEDIA_ERR_OTHER",i(),r(e),o=!0)}),t.src=p.streamUrl))}):requestAnimationFrame(function(){t=p.id,(e=N("canvas")).setAttribute(U,t),e.className=D.streamCanvas;var e,t=e,n=(e=p.streamUrl,n=t,AdStreamCanvasPlayer?(new AdStreamCanvasPlayer).setCanvasRef(n).setStreamUrl(e):k);n&&f()&&(e=t,t=n,(n=v.querySelector(".".concat(D.holder)))&&n.appendChild(e),t.mount())}))}o.streamFormat===P?fe({isLoading:window.$_TS_HLS_PLAYER_LOADING_IN_PROGRESS_$,isLoaded:Boolean(window.TS_HLS),scriptUrl:z,eventName:"$_TS_HLS_PLAYER_LOADED_$",onBeforeLoad:function(){window.$_TS_HLS_PLAYER_LOADING_IN_PROGRESS_$=!0},onSuccess:function(){e(),window.$_TS_HLS_PLAYER_LOADING_IN_PROGRESS_$=!1}}):fe({isLoading:window.$_TS_CANVAS_PLAYER_LOADING_IN_PROGRESS_$,isLoaded:Boolean(window.AdStreamCanvasPlayer),scriptUrl:K,eventName:"$_TS_CANVAS_PLAYER_LOADED_$",onBeforeLoad:function(){window.$_TS_CANVAS_PLAYER_LOADING_IN_PROGRESS_$=!0},onSuccess:function(){e(),window.$_TS_CANVAS_PLAYER_LOADING_IN_PROGRESS_$=!1}})},(n=m.find(function(e){return e.domId===H(t)}))&&n.isTracked?e():f[o.id]=e)}):ge(e,s,a)}),h)for(var w=document.getElementsByClassName(t),E=0;E<w.length;E++)w[E].scrollTop=0,w[E].scrollLeft=0;setTimeout(function(){var e,n,t,o;ce?((t=new IntersectionObserver(function(e){var o=t;e.forEach(function(e){var t,n=o;(he()||e.isIntersecting)&&(t=e.target,(e=m.find(function(e){return e.domId===t.id}))&&(we(t,e),e=e.domId.slice(D.tracking.length),f[e])&&(f[e](),delete f[e]),n.unobserve(t),0===j(m).length)&&n.disconnect()})})).observe(l),m.forEach(function(e){(e=B(e.domId))&&t.observe(e)})):(o=null,n=function(){o=o||window.setTimeout(function(){var e,t;Ee(s,m),j(m).length||(t=s,e=n,window.removeEventListener("scroll",e),t.scrollable&&(t=ve(t.elementId))&&t.removeEventListener("scroll",e)),o=null},200)},Ee(s,m),window.addEventListener("scroll",n),h&&(e=ve(v))&&e.addEventListener("scroll",n))},500);var S=function(e,t){e.classList.add("dsa-info__visible");var n=window.setTimeout(function(){return R(e,t)},6e4);t&&(y[t]=n)},R=function(e,t){e.classList.remove("dsa-info__visible"),t&&((e=y[t])&&window.clearTimeout(e),y[t]=null)}}}function Re(t,e,n){var o,a,r,i;void 0===n&&(n=[]),B(t.elementId)&&(o=Z(t,n),a=function(e){return Se(e,t,o)},n=t.cols*t.rows,r=e&&e.list||[],e=null==e?void 0:e.use_dsa,0<(i=n-r.length)?ie(t,{onSuccess:function(e){return a(I(I([],L(r),!1),L(e.list),!1))},thumbCountDiff:i,useDsa:e}):a(r.slice(0,n)))}function ke(e,t){var n,o,a,r,i,c,s,d,l,u,m,f,p,v=e.cols,h=e.rows,b=e.mobileEnabled;return{cols:v===k?O:Number(v),rows:h===k?J:Number(h),titlePosition:function(e){switch(e){case"left":case"right":case"none":return e;default:return"left"}}(e.titlePosition),adsByPosition:function(e,t){switch(void 0===t&&(t="right"),e){case"bottom-left":case"bottom-right":case"right":case"left":case"none":return e;default:return t}}(e.adsByPosition,t&&t.adsByPosition),adsByUrl:e.adsByUrl?String(e.adsByUrl):k,type:function(e,t){switch(void 0===t&&(t="label-under"),e){case"label-over":case"label-under":case"img-left":case"img-right":case"image":case"text":return e;default:return t}}(e.type,t&&t.type),styles:(v=e.styles)&&"object"==typeof v?(h=v.self,t=v.outer,n=v.thumb,o=v.thumbImg,a=v.label,r=v.container,i=v.innerContainer,c=v.headlineLink,s=v.brandnameLink,d=v.brandnameLabel,l=v.image,u=v.closeButton,m=v.tracking,f=v.holder,p=v.streamCanvas,v=v.streamHls,{self:S(h)?h:k,outer:S(t)?t:k,thumb:S(n)?n:k,thumbImg:S(o)?o:k,label:S(a)?a:k,container:S(r)?r:k,innerContainer:S(i)?i:k,headlineLink:S(c)?c:k,brandnameLabel:S(d)?d:k,brandnameLink:S(s)?s:k,image:S(l)?l:k,closeButton:S(u)?u:k,tracking:S(m)?m:k,holder:S(f)?f:k,streamCanvas:S(p)?p:k,streamHls:S(v)?v:k}):{},mobileEnabled:b===k?X:Boolean(b),scrollable:Boolean(e.scrollable),breakpoints:(h=e.breakpoints,Array.isArray(h)?h.filter(function(e){return E(e)&&"number"==typeof e.cols&&"number"==typeof e.width}):k),title:String(e.title||""),noBlank:Boolean(e.noBlank),showLogoInfo:Boolean(e.showLogoInfo),spotType:"direct"}}function q(t,n){Object.keys(n).forEach(function(e){t.style[e]=n[e]})}var G={},W={},F={},Y={},V={};window.TsMasterSpot=function(e){var o,t,n=(n=(i=e).containerId)?(a=(r=i.nativeSettings)&&r.cols,r=r&&r.rows,A((o=i,w.reduce(function(e,t){var n=o[t];return e[t]="number"==typeof n&&!Number.isNaN(n)||"string"==typeof n&&""!==n?String(n):k,e},{})),{spot:String(i.spot||""),containerId:String(n||""),thumbCols:Number.isNaN(Number(a))?k:Number(a),thumbRows:Number.isNaN(Number(a))?k:Number(r),wrapperStyles:R(i.wrapperStyles),iFrameStyles:R(i.iFrameStyles),onLoadResponseHook:C(i.onLoadResponseHook),onSpotRenderedHook:C(i.onSpotRenderedHook),onLoadErrorHook:C(i.onLoadErrorHook),clearPreloadedData:Boolean(i.clearPreloadedData),categories:String(i.categories||""),keywords:String(i.keywords||""),preload:Boolean(i.preload)})):k,a=e.nativeSettings;if(n){var r=n.spot,i=n.containerId,e="".concat(r,"_").concat(i),r=(n.clearPreloadedData&&(F[e]=G[e]=W[e]=k),W[e]||G[e]),f=(F[e]||(F[e]=n),(i=(i=F[e])?y(n,i):n).preload=n.preload&&!r,i),p=a,c=e,n=f.preload,s=f.onLoadErrorHook,v=f.onLoadResponseHook;try{window.$ts_isAvastExtensionUsed$===k&&(t=function(e){window.$ts_isAvastExtensionUsed$=e},T("chrome-extension://gomekmidlodglbbmalcneegieacbdmki/common/mocks/empty.js",function(){t(!0)},function(){return t(!1)}))}catch(e){}function d(e,c,s){var d=be();T(e,function(e){if(e){try{var t="native"===e.template,n=(a={spot:f.spot,format:t?"native-direct":"banner",startTime:d}).spot,o=a.format;(i=a.startTime)===k||i<0||(r=Date.now()-i,$({format:o,spot:n,serviceBaseUrl:_,eventType:"SPOT_DATA_LOADED",details:{loading_time:r}}))}catch(e){}var a,r,i;c(e)}else s()},s,{withCredentials:!0})}function l(){W[c]=!1}function u(){V[c]=!1}function m(){return G[c]}function h(e){var i,c,s,t,o,a,n,r,d,l,u,m;v&&v(e),s=p,o=(c=f).spot,a=c.containerId,n=c.wrapperStyles,r=c.iFrameStyles,d=c.onSpotRenderedHook,e=(i=e).assets,l=i.width,u=i.height,m=function(){var e=B(a);if(e)return q(e,{"font-size":"0",overflow:"hidden",width:l?"".concat(l,"px"):"auto",height:u?"".concat(u,"px"):"auto"}),n&&q(e,n),e;throw Error("TS: no container element")}(),window.$ts_isAvastExtensionUsed$?x(g,{onLoad:t=function(){var e,t,n,o=i,a=y({elementId:c.containerId,spot:c.spot},ke(s||{},{type:"label-over",adsByPosition:"none"})),r=m;Re(A(a,{cols:(e=(n=s)&&n.cols&&n.rows?{cols:Number(n.cols),rows:Number(n.rows)}:(n=r,o=r={containerWidth:o.width,containerHeight:o.height,thumbWidth:145,thumbHeight:145},Se([{brandname:"...",headline:"...",thumbs:[{src:"*",type:"image"}]}],a,Z(a)),a=((a=n.querySelector(".mn-outer"))&&(n=a.querySelector(".mn-thumb"))?(e=(a=a.getBoundingClientRect()).width,a=a.height,t=(n=n.getBoundingClientRect()).width,n=n.height,{containerHeight:a||o.containerHeight,containerWidth:e||o.containerWidth,thumbHeight:n||o.thumbHeight,thumbWidth:t||o.thumbWidth}):o)||r,{cols:Math.round(a.containerWidth/a.thumbWidth),rows:Math.round(a.containerHeight/a.thumbHeight)})).cols,rows:e.rows}),{list:[],use_dsa:!0}),d&&d(m)},onError:t}):e.forEach(function(e){switch(e.type){case"banner":t=e,(n=N("iframe")).setAttribute("sandbox","allow-same-origin allow-popups allow-forms allow-scripts"),n.setAttribute("scrolling","no"),q(n,{overflow:"hidden",width:"".concat(t.width,"px"),height:"".concat(t.height,"px")}),n.style.setProperty("border","none","important"),r&&q(n,r),m&&m.appendChild(n),(n=n.contentDocument)&&(n.write(t.data),n.close());break;case"native":n=ke(y((n=(t=e).data.ctx)&&n.standard||{},A(n&&n.nativeSettings||{},s||{}))),Re(A(n,{elementId:a,spot:o}),t.data)}var t,n;d&&d(m)})}r=f,a="".concat(b).concat(r.spot,"/master?").concat([ne(r),te(),oe(),re(),ee({keywords:[r.keywords,r.categories,ae()]}),(i=(r.thumbCols||0)*(r.thumbRows||0))?"count=".concat(i):""].filter(Boolean).join("&")),n?(W[c]=!0,d(a,function(e){var t;e&&(l(),u(),G[c]=e,Y[c]!==k)&&((t=Y[c])&&t(e),Y[c]=k)},function(){l(),V[c]=!0})):V[c]?(s&&s(),u()):(e=m())?h(e):W[c]!==k?Y[c]=function(){var e=m();e&&h(e)}:d(a,function(e){h(e)},function(){return s&&s()})}}}();
